<div class="flash">
  <ul ng:repeat="(class, messages) in flash" ng:class="class">
    <li ng:repeat="message in messages">{{message.message}}
  </ul>
</div>
<form ng:submit="submit()">
 <label>Numero bolla: <input name=numero size=8 required></label>
 <label>Data bolla (AAAAMMGG): <input name=data size=8 required></label><p>
 <label>Origine: <select name=origine required><option><option ng:repeat="(codice, desc) in aziende" value="{{codice}}">{{desc}}</select></label>
 <label>Destinazione: <select name=destinazione><option><option ng:repeat="(codice, desc) in aziende" value="{{codice}}">{{desc}}</select></label><p>
 <label>Causale: <select name=causale><option ng:repeat="(causale, segno) in causali">{{causale}}</select></label>&nbsp;&nbsp;Segno origine:&nbsp;"{{causali[causale][0]}}";&nbsp;&nbsp;Segno destinazione:&nbsp;"{{causali[causale][1]||' '}}"<p>
 <table>
  <caption>Righe</caption>
  <thead>
   <tr><th>Codice a barre<th>Descrizione<th>Taglia<th>Quantit√†<th>ALTRO
  <tbody>
   <tr ng:repeat="row in rows">
    <td><input name="row.barcode" size=20 pattern="^\d{18}$">
    <td>{{row.descrizione}}
    <td>{{row.descrizioneTaglia}}
    <td><input name="row.qta" size=3>
    <td>[&nbsp;<a href="" ng:click="rows.$remove(row)" title="Elimina riga">X</a>&nbsp;]
 </table>
 <label><input type=checkbox name=accodato value=1>&nbsp;Accodato</label><p>
 <button ng:click="action = 'save'">Salva</button> <button ng:click="action = 'find'">Cerca</button>
</form>